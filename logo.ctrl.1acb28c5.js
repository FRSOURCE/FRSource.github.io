!function(t,i,e,s,n){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r="function"==typeof a.parcelRequire&&a.parcelRequire,o="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function h(e,s){if(!i[e]){if(!t[e]){var n="function"==typeof parcelRequire&&parcelRequire;if(!s&&n)return n(e,!0);if(r)return r(e,!0);if(o&&"string"==typeof e)return o(e);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}d.resolve=function(i){return t[e][1][i]||i},d.cache={};var l=i[e]=new h.Module(e);t[e][0].call(l.exports,d,l,l.exports,this)}return i[e].exports;function d(t){return h(d.resolve(t))}}h.isParcelRequire=!0,h.Module=function(t){this.id=t,this.bundle=h,this.exports={}},h.modules=t,h.cache=i,h.parent=r,h.register=function(i,e){t[i]=[function(t,i){i.exports=e},{}]},a.parcelRequire=h;for(var l=0;l<e.length;l++)h(e[l])}({"7f8AZ":[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogoCtrl=void 0;class s{static maxGlitchTime=600;static dpi=window.devicePixelRatio;static randInt(t=0,i=1){return Math.random()*(i-t)+t}static randIntNormalDistributed(t=0,i=1){let e=0,s=0;for(;0===e;)e=Math.random();for(;0===s;)s=Math.random();const n=Math.abs(Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*s))+.1;return(n>3.8?1:n>1?n%1:n>.1&&n<.4?n+.5*Math.random():n<0?0:n)*(i-t)+t}static asyncTimeout(t){return new Promise((i=>setTimeout(i,t)))}lastVisibleItem=-1;resizeObserver=new window.ResizeObserver(this.onResize.bind(this));constructor(t,i,e,s){this.logo=t,this.canvas=i,this.itemsToReveal=e,this.onFinish=s,this.ctx=this.canvas.getContext("2d"),this.resizeObserver.observe(t),this.resizeObserver.observe(i)}async onResize(){await this.refreshSvgImage(),this.imgSize=this.logo.querySelector("g").getBoundingClientRect(),this.canvasSize={width:this.canvas.offsetWidth,height:this.canvas.offsetHeight},this.canvas.width=this.canvasSize.width*s.dpi,this.canvas.height=this.canvasSize.height*s.dpi,this.ctx.scale(s.dpi,s.dpi)}async init(){await this.onResize(),this.glitchTimeouted(),setTimeout(this.progressReveal.bind(this),2500)}glitchImg(){const t=this.imgSize.width*s.dpi,i=this.imgSize.height*s.dpi,e=Math.max(this.canvas.clientHeight/this.logo.clientHeight,this.canvas.clientWidth/this.logo.clientWidth);Math.random()<.2?this.logo.style.visibility="hidden":(this.logo.style.visibility=null,this.logo.style.transform=Math.random()<.7?`translate(${s.randIntNormalDistributed(-10,10)}%, ${s.randIntNormalDistributed(-10,10)}%)`:"none");for(let n=0;n<s.randInt(1,13);++n){const n=s.randIntNormalDistributed(0,1),a=s.randIntNormalDistributed(0,1),r=s.randIntNormalDistributed(0,1),o=s.randIntNormalDistributed(0,1);this.ctx.drawImage(this.img,n*t,a*i,r*t*e,o*i*e,s.randIntNormalDistributed(0,this.canvasSize.width-this.imgSize.width),s.randIntNormalDistributed(0,this.canvasSize.height-this.imgSize.height),r*this.imgSize.width,o*this.imgSize.height)}}async glitchTimeouted(){this.logo.style.visibility=null,await Promise.all(new Array(Math.round(s.randInt(.5,3.4))).fill(0).map((async()=>{await s.asyncTimeout(s.randInt(550,2500)),this.glitchImg(),await s.asyncTimeout(s.randInt(50,s.maxGlitchTime))}))),this.ctx.clearRect(0,0,this.canvasSize.width,this.canvasSize.height),this.glitchTimeouted()}async progressReveal(){if(this.lastVisibleItem===this.itemsToReveal.length-1)return this.onFinish?.();this.itemsToReveal[++this.lastVisibleItem].style.visibility=null,await this.refreshSvgImage(),setTimeout(this.progressReveal.bind(this),s.randInt(200,700))}async refreshSvgImage(){const t=new Image,i=await new Promise((i=>{t.onload=i.bind(void 0,t);const e=(new XMLSerializer).serializeToString(this.logo);t.src="data:image/svg+xml; charset=utf8, "+encodeURIComponent(e)}));return this.img=i}}e.LogoCtrl=s},{}]},{},[]);
//# sourceMappingURL=logo.ctrl.1acb28c5.js.map
