parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {var b={},c=b&&b.__awaiter||function(t,i,e,r){return new(e||(e=Promise))(function(n,a){function s(t){try{h(r.next(t))}catch(i){a(i)}}function o(t){try{h(r.throw(t))}catch(i){a(i)}}function h(t){var i;t.done?n(t.value):(i=t.value,i instanceof e?i:new e(function(t){t(i)})).then(s,o)}h((r=r.apply(t,i||[])).next())})},d=b&&b.__generator||function(t,i){var e,r,n,a,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(n=2&a[0]?r.return:a[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,a[1])).done)return n;switch(r=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){s.label=a[1];break}if(6===a[0]&&s.label<n[1]){s.label=n[1],n=a;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(a);break}n[2]&&s.ops.pop(),s.trys.pop();continue;}a=i.call(t,s)}catch(o){a=[6,o],r=0}finally{e=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},f=function(){function t(t,i,e,r){this.logo=t,this.canvas=i,this.itemsToReveal=e,this.onFinish=r,this.lastVisibleItem=-1,this.resizeObserver=new window.ResizeObserver(this.onResize.bind(this)),this.ctx=this.canvas.getContext("2d"),this.resizeObserver.observe(t),this.resizeObserver.observe(i)}return t.randInt=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=1),Math.random()*(i-t)+t},t.randIntNormalDistributed=function(t,i){void 0===t&&(t=0),void 0===i&&(i=1);for(var e=0,r=0;0===e;)e=Math.random();for(;0===r;)r=Math.random();var n=Math.abs(Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*r))+.1;return(n>3.8?1:n>1?n%1:n>.1&&n<.4?n+.5*Math.random():n<0?0:n)*(i-t)+t},t.asyncTimeout=function(t){return new Promise(function(i){return setTimeout(i,t)})},t.prototype.onResize=function(){return c(this,void 0,void 0,function(){return d(this,function(i){switch(i.label){case 0:return[4,this.refreshSvgImage()];case 1:return i.sent(),this.imgSize=this.logo.querySelector("g").getBoundingClientRect(),this.canvasSize={width:this.canvas.offsetWidth,height:this.canvas.offsetHeight},this.canvas.width=this.canvasSize.width*t.dpi,this.canvas.height=this.canvasSize.height*t.dpi,this.ctx.scale(t.dpi,t.dpi),[2];}})})},t.prototype.init=function(){return c(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this.onResize()];case 1:return t.sent(),this.glitchTimeouted(),setTimeout(this.progressReveal.bind(this),2500),[2];}})})},t.prototype.glitchImg=function(){var i=this.imgSize.width*t.dpi,e=this.imgSize.height*t.dpi,r=Math.max(this.canvas.clientHeight/this.logo.clientHeight,this.canvas.clientWidth/this.logo.clientWidth);Math.random()<.2?this.logo.style.visibility="hidden":(this.logo.style.visibility=null,this.logo.style.transform=Math.random()<.7?"translate("+t.randIntNormalDistributed(-10,10)+"%, "+t.randIntNormalDistributed(-10,10)+"%)":"none");for(var n=0;n<t.randInt(1,13);++n){var a=t.randIntNormalDistributed(0,1),s=t.randIntNormalDistributed(0,1),o=t.randIntNormalDistributed(0,1),h=t.randIntNormalDistributed(0,1);this.ctx.drawImage(this.img,a*i,s*e,o*i*r,h*e*r,t.randIntNormalDistributed(0,this.canvasSize.width-this.imgSize.width),t.randIntNormalDistributed(0,this.canvasSize.height-this.imgSize.height),o*this.imgSize.width,h*this.imgSize.height)}},t.prototype.glitchTimeouted=function(){return c(this,void 0,void 0,function(){var i=this;return d(this,function(e){switch(e.label){case 0:return this.logo.style.visibility=null,[4,Promise.all(new Array(Math.round(t.randInt(.5,3.4))).fill(0).map(function(){return c(i,void 0,void 0,function(){return d(this,function(i){switch(i.label){case 0:return[4,t.asyncTimeout(t.randInt(550,2500))];case 1:return i.sent(),this.glitchImg(),[4,t.asyncTimeout(t.randInt(50,t.maxGlitchTime))];case 2:return i.sent(),[2];}})})}))];case 1:return e.sent(),this.ctx.clearRect(0,0,this.canvasSize.width,this.canvasSize.height),this.glitchTimeouted(),[2];}})})},t.prototype.progressReveal=function(){var i;return c(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return this.lastVisibleItem===this.itemsToReveal.length-1?[2,null===(i=this.onFinish)||void 0===i?void 0:i.call(this)]:(this.itemsToReveal[++this.lastVisibleItem].style.visibility=null,[4,this.refreshSvgImage()]);case 1:return e.sent(),setTimeout(this.progressReveal.bind(this),t.randInt(200,700)),[2];}})})},t.prototype.refreshSvgImage=function(){return c(this,void 0,void 0,function(){var t,i,e=this;return d(this,function(r){switch(r.label){case 0:return t=new Image,[4,new Promise(function(i){t.onload=i.bind(void 0,t);var r=new XMLSerializer().serializeToString(e.logo);t.src="data:image/svg+xml; charset=utf8, "+encodeURIComponent(r)})];case 1:return i=r.sent(),[2,this.img=i];}})})},t.maxGlitchTime=600,t.dpi=window.devicePixelRatio,t}();b.LogoCtrl=f;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b}else if(typeof define==="function"&&define.amd){define(function(){return b})}b.__esModule=true;return{"Gmxf":b};});