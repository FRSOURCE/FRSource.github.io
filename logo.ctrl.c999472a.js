parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {var b={},c=b&&b.__awaiter||function(t,i,e,n){return new(e||(e=Promise))(function(r,a){function s(t){try{h(n.next(t))}catch(i){a(i)}}function o(t){try{h(n.throw(t))}catch(i){a(i)}}function h(t){var i;t.done?r(t.value):(i=t.value,i instanceof e?i:new e(function(t){t(i)})).then(s,o)}h((n=n.apply(t,i||[])).next())})},d=b&&b.__generator||function(t,i){var e,n,r,a,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue;}a=i.call(t,s)}catch(o){a=[6,o],n=0}finally{e=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},f=function(){function t(t,i,e,n,r,a){this.logo=t,this.canvas=i,this.itemsToReveal=e,this.canvasSize=n,this.imgSize=r,this.onFinish=a,this.lastVisibleItem=-1,this.imgOffset={w:0,h:0},this.imgScaleRatio=1,this.ctx=this.canvas.getContext("2d")}return t.randInt=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=1),Math.random()*(i-t)+t},t.randIntNormalDistrubuted=function(i,e){void 0===i&&(i=0),void 0===e&&(e=1);for(var n=0,r=0;0===n;)n=Math.random();for(;0===r;)r=Math.random();var a=Math.sqrt(-2*Math.log(n))*Math.cos(2*Math.PI*r);return a<t.min&&(t.min=a),a>t.max&&(t.max=a),(a>1?1:a<0?0:a)*(e-i)+i},t.asyncTimeout=function(t){return new Promise(function(i){return setTimeout(i,t)})},t.prototype.init=function(){return c(this,void 0,void 0,function(){var t;return d(this,function(i){switch(i.label){case 0:return t=this,[4,this.refreshSvgImage()];case 1:return t.img=i.sent(),this.imgInit(),[2];}})})},t.prototype.imgInit=function(){clearInterval(this.glitchInterval),this.prepareCanvas(),this.glitchInterval=setInterval(this.prepareImgAndGlitch.bind(this),500),setTimeout(this.progressReveal.bind(this),1500)},t.prototype.prepareCanvas=function(){this.imgScaleRatio=Math.min(this.img.width/this.imgSize.w,this.img.height/this.imgSize.h),this.canvas.width=this.canvasSize.w*t.dpi,this.canvas.height=this.canvasSize.h*t.dpi,this.imgOffset.w=(this.canvasSize.w-this.imgSize.w)/2,this.imgOffset.h=(this.canvasSize.h-this.imgSize.h)/2,this.canvas.style.width=this.canvasSize.w+"px",this.canvas.style.height=this.canvasSize.h+"px",this.ctx.scale(t.dpi,t.dpi),this.canvas.style["margin-top"]=-this.imgOffset.h+"px"},t.prototype.prepareImgAndGlitch=function(){this.reinitImg(),setTimeout(this.glitchImg.bind(this),t.randInt(250,t.maxGlitchTime))},t.prototype.reinitImg=function(){this.ctx.clearRect(0,0,this.canvasSize.w,this.canvasSize.h)},t.prototype.glitchImg=function(){for(var i=0;i<t.randInt(1,13);++i){var e=Math.random(),n=Math.random(),r=Math.random()*(1-e),a=Math.random()*(1-n),s=this.img.width+27,o=this.img.height+22;this.ctx.drawImage(this.img,e*s,n*o,r*s,a*o,t.randIntNormalDistrubuted(this.imgOffset.w/2,(this.canvas.width-this.imgOffset.w)/2),this.imgSize.h*n+this.imgOffset.h,r*this.imgSize.w,a*this.imgSize.h)}},t.prototype.progressReveal=function(){var i;return c(this,void 0,void 0,function(){var e,n=this;return d(this,function(r){switch(r.label){case 0:return this.lastVisibleItem!==this.itemsToReveal.length-1?[3,3]:(null===(i=this.onFinish)||void 0===i||i.call(this),[4,t.asyncTimeout(2e3)]);case 1:return r.sent(),clearInterval(this.glitchInterval),[4,t.asyncTimeout(t.maxGlitchTime+50)];case 2:return r.sent(),this.reinitImg(),this.glitchInterval=setInterval(function(){return c(n,void 0,void 0,function(){var i;return d(this,function(e){switch(e.label){case 0:return[4,t.asyncTimeout(t.randInt(250,t.maxGlitchTime))];case 1:return e.sent(),this.glitchImg(),i=t.randInt(150,t.maxGlitchTime),t.asyncTimeout(i).then(this.glitchImg.bind(this)),[4,t.asyncTimeout(t.randInt(i+50,i+.7*t.maxGlitchTime))];case 2:return e.sent(),[2,this.reinitImg()];}})})},5e3),[2];case 3:return this.itemsToReveal[++this.lastVisibleItem].style.display=null,e=this,[4,this.refreshSvgImage()];case 4:return e.img=r.sent(),setTimeout(this.progressReveal.bind(this),t.randInt(200,700)),[2];}})})},t.prototype.refreshSvgImage=function(){return c(this,void 0,void 0,function(){var t,i=this;return d(this,function(e){return t=new Image,[2,new Promise(function(e){t.onload=e.bind(void 0,t);var n=new XMLSerializer().serializeToString(i.logo);t.src="data:image/svg+xml; charset=utf8, "+encodeURIComponent(n)})]})})},t.maxGlitchTime=900,t.dpi=window.devicePixelRatio,t.max=0,t.min=0,t}();b.LogoCtrl=f;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b}else if(typeof define==="function"&&define.amd){define(function(){return b})}b.__esModule=true;return{"Gmxf":b};});